(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1354:function(e,t,n){"use strict";n.r(t);var r=n(18),o=(n(45),n(43),n(17),n(70),n(14),n(8),n(26),n(53),n(95),n(40),n(66)),c=n(13),d=n.n(c),l={components:{VTuiEditor:n(734).default},data:function(){return{name:{},description:{},field:{},isEdit:!1}},methods:{syncData:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("/api/news/".concat(e.$route.params.id));case 2:n=t.sent,e.field=d.a.get(n.data,"data",d.a.get(n,"data",{})),e.name=d.a.get(e.field,"name",{}),e.description=d.a.get(e.field,"description",{}),delete e.field._id,delete e.field.__v,delete e.field.id;case 9:case"end":return t.stop()}}),t)})))()},back:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var path;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:path=d.a.filter(e.$route.path.split("/")),path=d.a.filter(path,(function(e,t){return t!=path.length-1})),path=d.a.join(path,"/"),e.$router.push("/".concat(path));case 4:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.field.name=e.name,e.field.description=e.description,t.next=4,o.a.post("/api/news/".concat(e.$route.params.id),e.field);case 4:t.sent,e.$router.push("/admin-panel/news");case 6:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(["0","create","add"].includes(e.$route.params.id)){t.next=6;break}return t.next=3,e.syncData();case 3:e.$checkPermission("news","edit").then((function(t){e.isEdit=t})),t.next=7;break;case 6:e.$checkPermission("news","create").then((function(t){e.isEdit=t}));case 7:case"end":return t.stop()}}),t)})))()}},m=n(2),f=n(29),v=n.n(f),h=n(185),component=Object(m.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{padding:"20px"}},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("div",{staticClass:"row"},[e._m(0),e._v(" "),n("div",{staticClass:"col d-flex justify-content-end"},[n("v-btn",{staticClass:"mr-5",on:{click:function(t){return e.back()}}},[e._v(e._s(e.$t("back")))]),e._v(" "),e.isEdit?n("v-btn",{attrs:{dark:"",color:"teal"},on:{click:function(t){return e.save()}}},[e._v(e._s(e.$t("save")))]):e._e()],1)])]),e._v(" "),n("div",{staticClass:"card-body"},[n("div",[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"exampleInputEmail1"}},[e._v("Name( th )")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name.th,expression:"name.th"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name"},domProps:{value:e.name.th},on:{input:function(t){t.target.composing||e.$set(e.name,"th",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"exampleInputEmail1"}},[e._v("Description( th )")]),e._v(" "),n("VTuiEditor",{model:{value:e.description.th,callback:function(t){e.$set(e.description,"th",t)},expression:"description.th"}})],1),e._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"exampleInputEmail1"}},[e._v("Name( en )")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name.en,expression:"name.en"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name"},domProps:{value:e.name.en},on:{input:function(t){t.target.composing||e.$set(e.name,"en",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"exampleInputEmail1"}},[e._v("Description( en )")]),e._v(" "),n("VTuiEditor",{model:{value:e.description.en,callback:function(t){e.$set(e.description,"en",t)},expression:"description.en"}})],1)])]),e._v(" "),n("div",{staticClass:"card-footer text-muted"})])])}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col d-flex justify-content-start"},[n("h4",[e._v("News")])])}],!1,null,null,null);t.default=component.exports;v()(component,{VTuiEditor:n(734).default}),v()(component,{VBtn:h.a})}}]);